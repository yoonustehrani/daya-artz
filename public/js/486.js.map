{"version":3,"file":"js/486.js","mappings":"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","sources":["webpack:///./resources/js/components/Paginate/index.jsx","webpack:///./resources/js/components/copy.js","webpack:///./resources/js/userarea/Pages/Private/Finance/Discounts/Discounts.jsx","webpack:///./resources/js/userarea/Pages/Private/Layout/components/Loading.jsx","webpack:///./resources/js/userarea/Pages/Private/Layout/components/NoItem.jsx"],"sourcesContent":["import React from 'react';\n\nfunction Paginate({ current_page, next_page_url, prev_page_url, next_page_handler, prev_page_handler }) {\n    return (\n        <nav className=\"pagination-nav\">\n            <a className={`pagination-btn ${ !prev_page_url ? \"disabled\" : \"\" }`} onClick={() => prev_page_handler()}>\n                <i className=\"fad fa-chevron-double-left mr-1\"></i>\n                <span>قبلی</span>\n            </a>\n            <span className=\"page-index\">{current_page}</span>\n            <a className={`pagination-btn ${ !next_page_url ? \"disabled\" : \"\" }`} onClick={() => next_page_handler()}>\n                <span>بعدی</span>\n                <i className=\"fad fa-chevron-double-right ml-1\"></i>\n            </a>\n        </nav>\n    );\n}\n\nexport default Paginate;","import AlertService from \"../services/AlertService\";\n\nexport default function copyToClipboard(code, title=\"متن مورد نظر\") {\n    navigator.permissions.query({name: \"clipboard-write\"}).then(result => {\n        if (result.state == \"granted\" || result.state == \"prompt\") {\n            navigator.clipboard.writeText(code).then(function() {\n                (new AlertService).success({timer: 2000, title: `${title} در حافظه موقت کپی شد`})\n            }, () => {\n                (new AlertService).error({timer: 2000, title: 'متاسفانه در هنگام کپی مشکلی پیش آمد'})\n            });\n        }\n    });\n}","import React, { Component, useState } from 'react';\nimport copyToClipboard from '../../../../../components/copy';\nimport Paginate from '../../../../../components/Paginate';\nimport { useHttpService } from '../../../../hooks';\nimport Loading from '../../Layout/components/Loading';\nimport NoItem from '../../Layout/components/NoItem';\n\nclass Discounts extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            offers: [],\n            next_page: null,\n            loading: true,\n            paginateInfo: {}\n        }\n        this.http = useHttpService('/userarea')\n    }\n    componentDidMount() {\n        this.loadOffers()\n    }\n    loadOffers = (customUrl=null) => {\n        this.setState({loading: true}, async () => {\n            const response = await this.http.get(customUrl ?? '/offers'), { current_page, next_page_url, prev_page_url } = response\n            if (! response.error) {\n                this.setState(prevState => ({\n                    offers: response.data,\n                    paginateInfo: { current_page, next_page_url, prev_page_url },\n                    loading: false\n                }))\n            }\n        })\n    }\n    getOfferValue(offer) {\n        return offer.value_type === 'amount' ? `${offer.value} تومان` : `${offer.value}%`;\n    }\n    handlePaginate = (next = true) => {\n        let {next_page_url, prev_page_url} = this.state.paginateInfo, url = next ? next_page_url : prev_page_url\n        this.loadOffers(url)\n    }\n    render() {\n        let { loading, offers, paginateInfo } = this.state\n        if (loading) return <Loading />\n        return offers.length ? (<>\n            <div className='discount-container'>\n                {offers.map(discount => {\n                    return (\n                        <div key={discount.id} className='p-0 discount-item rounded-lg'>\n                            <div className=\"w-100 p-2 text-white\">\n                                <img src={APP_PATH + 'images/discount-icon.png'}/>\n                                <p className='shadowed-text'>{discount.title}</p>\n                                <p>{this.getOfferValue(discount)}</p>\n                                <p className='shadowed-text'>{discount.description}</p>\n                                <span onClick={() => this.copyToClipboard(discount.code, \"کد تخفیف\")} className=\"cursor-pointer w-50 badge bg-pink p-2 rounded-pill bold ltr\">\n                                    <i className=\"fas fa-copy mr-2\"></i>{discount.code}\n                                </span>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n            <Paginate {...paginateInfo} next_page_handler={this.handlePaginate} prev_page_handler={this.handlePaginate.bind(this, false)} />\n            </>\n        ) : <NoItem />\n    }\n}\n\nexport default Discounts;","import { Spinner } from 'react-activity'\nexport default function Loading(props) {\n    return (\n        <div className=\"activity-container mb-2\">\n            <Spinner color={props.color ?? '#999999'} size={props.size ?? 34} speed={0.5} animating={true}/>\n        </div>\n    )\n}","export default function NoItem () {\n    return (\n        <div id=\"no-item-elem\" className=\"activity-container alert alert-light\">موردی برای نمایش وجود ندارد</div>\n    )\n}"],"names":["current_page","next_page_url","prev_page_url","next_page_handler","prev_page_handler","className","onClick","copyToClipboard","code","title","navigator","permissions","query","name","then","result","state","clipboard","writeText","AlertService","success","timer","error","i","Discounts","props","customUrl","setState","loading","http","get","response","prevState","offers","data","paginateInfo","next","url","loadOffers","next_page","useHttpService","this","offer","value_type","value","length","map","discount","src","APP_PATH","getOfferValue","description","id","handlePaginate","bind","Component","Loading","Spinner","color","size","speed","animating","NoItem"],"sourceRoot":""}